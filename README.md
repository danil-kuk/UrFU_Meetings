# UrFU_Meetings
Веб-сервис для организации небольших мероприятий студентами УрФУ.  
Данный проект является [курсовой работой](https://drive.google.com/file/d/1yM2XixB0qQGzqN2krfi3jtx-aiYPS3Ob/view?usp=sharing) студентов 1 курса.

Содержание
=================

<!--ts-->
   * [Наш стек технологий](#наш-стек-технологий)
   * [Инструкция по запуску](#инструкция-по-запуску)
      * [Запуск через Visual Studio](#запуск-через-visual-studio)
      * [Запуск через Visual Studio Code](#запуск-через-visual-studio-code)
   * [Работа с базой данных](#работа-с-базой-данных)
      * [Какую БД мы используем](#какую-бд-мы-используем)
      * [Работа с БД через Visual Studio](#работа-с-бд-через-visual-studio)
   * [Дополнительная информация](#дополнительная-информация)
      * [Trello](#trello)
      * [Ссылки](#ссылки)
<!--te-->

## Наш стек технологий:
**Коммуникация и организация деятельности команды**: VK, Trello;  
**Обмен файлами**: Google Drive;  
**Система контроля версий**: Git, GitHub;  
**Прототипирование и дизайн**: Figma, Adobe Photoshop, Adobe Illustrator;  
**Работа с Front-end и Back-End**: Visual Studio, Visual Studio Code;  
**Back-end**: C#, ASP.NET Core, MS SQL Server;  
**Front-end**: Razor, HTML, CSS, JavaScript;  
**Back-end библиотеки и фреймворки**: EntityFrameworkCore, EntityFrameworkCore.Tools, EntityFrameworkCore.SqlServer, xUnit;  
**Front-end библиотеки и фреймворки**: AspNetCore.Razor.Design, Bootstrap 4, jQuery;  
**Расширения для Visual Studio**: GitHub Extension for Visual Studio;  
**Расширения для Visual Studio Code**: C# for Visual Studio Code. 

## Инструкция по запуску
### Клонируем репозиторий
Для начала клонируем репозиторий себе на компьютер. 
Для этого нажимаем на кнопку с надписью *Clone or download* и копируем ссылку на репозиторий.  

#### Для запуска используйте любой из способов ниже:
### Запуск через Visual Studio  
В VS находим в меню *Файл* пункт про GitHub.  
Клонируем наш репозиторий вставив ссылку и нажав **Clone**. Не забудьте указать путь к папке, куда репозиторий скачается на ваш компьютер.  
Когда все файлы из репозитория будут скачаны, мы можем запускать проект.   
Для этого просто нажимаем комбинацию клавиш:  <kbd>Ctrl</kbd> + <kbd>F5</kbd>  
Или нажимаем на соответствующий пункт на панели инструментов.  
Далее наш проект откроется в браузере. Готово!  
Для того, чтобы закрыть проект достаточно нажать соответствующую кнопку в Visual Studio, а также достаточно просто закрыть вкладку.

### Запуск через Visual Studio Code
Для начала нам так же необходимо клонировать репозиторий на наш компьютер.  
Для этого, открыв VS Code, мы нажимаем комбинацию клавиш: <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>P</kbd> (или можно просто <kbd>F1</kbd>)  
В появившемся окне вводим команду:
```
git clone
```
А потом вставляем ссылку на наш репозиторий и указываем папку, куда его сохранить.  
Всплывающее окно предложит вам сразу перейти в папку репозитория, так и сделаем.  
Когда вы откроете папку с репозиторием, у вас может появиться предупреждение, пока просто игнорируем его.  
Когда все файлы из репозитория будут скачаны, мы можем запускать проект. 
#### Запуск проекта VS Code
**Важно!** Перед запуском убедитесь, что у вас установлено расширение для работы с C#.  
Открываем терминал и смотрим, в какой папке мы сейчас находимся.  
Нам необходимо с помощью команды ```cd <path> ``` перейти в ту папку, где лежит файл с расширением .csproj  
В нашем случае это команда:
```
cd WebApp
```
Для начала смотрим, есть ли в разделе *Problems* ошибки, если они появились, то смотрите [ниже](#возможные-проблемы-с-запуском-в-vs-code), как их решить. Если же их нет, то продолжим.  
Оказавшись в нужной нам папке, запускаем проект командой:
```
dotnet run
```
Наш проект откроется в браузере на ```http://localhost```  
Готово!  
Для того, чтобы остановить проект в VS Code нужно нажать комбинацию клавиш:
<kbd>Ctrl</kbd> + <kbd>C</kbd>

(Важно! Описанный выше алгоритм нужно повторять каждый раз для запуска проекта, т.е. заходим в нужную папку и тогда только запускаем)

#### Возможные проблемы с запуском в VS Code
Если после клонирования проекта в VS Code у вас появляется куча ошибок в разделе "Problems", то перед первым запуском нужно ввести команду (команду вводить из папки с .csproj файлом):
```
dotnet restore
```
Если после этого ошибки не пропали, то следует перезапустить VS Code, тогда они должны пропасть.

## Работа с базой данных
В нашем проекте в качестве системы управления базами данных (СУБД) мы используем Microsoft SQL Server. Для удобства работы с базами данных (БД) советую также скачать [SQL Server Management Studio](https://docs.microsoft.com/ru-ru/sql/ssms/download-sql-server-management-studio-ssms?view=sql-server-2017). Но это **не является обязательным пунктом**, т.к. работать с БД можно и через Visual Studio при помощи вкладки SQL Server Object Explorer. Подробнее об этом будет написано [далее](#работа-с-бд-через-visual-studio).  
Создание и изменение базы данных происходит через метод работы с БД, который называется **Code First**, когда изменения структуры БД и её внутренних компонентов происходит через написание кода, а не через использование инструментов редактирования БД в SQL Server. Для нас этот подход наиболее удобен, потому что позволяет нам не вникать в тонкости языка SQL, т.к. всё это делает за нас ASP.NET Core и Entity Framework.

### Какую БД мы используем
Для того, чтобы у всех членов нашей команды была одна актуальная БД, а также для упрощения работы и подключения к ней было принято решение создать БД на бесплатном [хостинге](https://somee.com) для MS SQL Database.  
При обычном запуске проекта подключение к БД происходит автоматически. Так происходит подключение по аккаунтом администратора, поэтому каждый участник команды имеет одинаковые права доступа к БД. Именно поэтому, если вам нет необходимости работать с созданием или просмотром содержимого БД (т.е. Front-end), то специально подключаться (как описано ниже) к базе данных не нужно, т.к. ещё раз скажу, что это происходит автоматически.  
Ведём мы только одну БД, а информация о разных сущностях хранится в разных таблицах этой БД.

### Работа с БД через Visual Studio
В Visual Studio работа с БД осуществляется через SQL Server Object Explorer.  
Через него вся работа заключается только в просмотре текущих записей в нашей БД. Хотя с его помощью можно делать запросы к БД и много других вещей. Тем не менее для более углубленной работы с БД советую использовать SQL Server Management Studio, т.к. она предоставляет больше инструментов для работы с БД.  
Чтобы открыть окно SQL Server Object Explorer нужно нажать на соответствующий пункт в меню View(Вид), которое находится на верхней панели (там же где File, Edit и другое).  
Ещё один способ открыть данное окно — это использовать комбинацию клавиш: <kbd>Ctrl</kbd> + <kbd>\\</kbd> а потом <kbd>Ctrl</kbd> + <kbd>S</kbd>  
Теперь нам нужно подключиться к нашей БД, для этого нажимаем на кнопку "Add SQL Server" (находится справа от кнопки "Refresh"). В качестве имени сервера вводим:
```
UrFU-Meetings-Db.mssql.somee.com
```
Выбираем SQL Server Authentication и вводим имя пользователя и пароль. Их всегда можно найти в строке подключения.   
И также стоит поставить галочку, чтобы запомнить пароль.  
Спустя некоторое время мы подключимся к нашему серверу. Заходим в папку **Databases** и теперь нужно в списке БД найти нашу. Напомню, что наша БД имеет имя:
```
UrFU-Meetings-Db
```
Затем нажав на неё можно зайти в папку **Tables**, где хранятся все таблицы нашей БД. Для того, чтобы посмотреть таблицу, просто нажав правой кнопкой мыши по необходимой таблице, выберите пункт **View Data**  
Также в других папках БД можно увидеть различную информацию о БД, но она для нас не является важной.  
Принцип подключения к БД через SQL Server Management Studio выглядит точно так же.  
Создание и заполнение БД, как и описание всех её сущностей осуществляется в Visual Studio при помощи Entity Framework. Все необходимые дополнения уже входят в проект и скачиваются автоматически, поэтому дополнительно ничего скачивать не нужно. Данные изменения описываются в соответсвующем файле обычным кодом на C#, а после благодаря механизму миграций все изменения структуры базы данных сохраняются в данной БД.    

## Дополнительная информация
### Trello
#### [Первый спринт](https://trello.com/b/6oacU9b5/first-sprint-300319) (30.03.19 - 12.04.19) - **Завершен**
#### [Второй спринт](https://trello.com/b/Idbm2f8H/second-sprint-220419) (22.04.19 - 12.05.19)  - **Завершен**
#### [Третий спринт](https://trello.com/b/DHtEdS7y/third-sprint-150519) (15.05.19 - 30.05.19)  - **Завершен**  

В течении работы над данным проектом мы использовали Trello в качестве системы управления проектами. Ссылки на доски каждого из спринтов указаны выше.  

### Ссылки  
#### Участники команды
Ссылки на участников команды, которая работала над данным проектом:  
[Кукряков Данил](https://vk.com/id89939784) - руководитель, full-stack разработчик  
[Демичева Екатерина](https://vk.com/id493780848) - дизайнер, front-end разработчик  
[Дерябин Илья](https://vk.com/deryabinis) - тестировщик, back-end разработчик  

#### Другое
[Макеты](https://www.figma.com/file/LbABNi4tx5NGm3FegD5l0Oip/Макет-I), созданные в Figma  
[Курсовая работа](https://drive.google.com/file/d/1yM2XixB0qQGzqN2krfi3jtx-aiYPS3Ob/view?usp=sharing), с подробным описанием всего процесса разработки  
[Видео](https://drive.google.com/file/d/1jDvV7DQYsvw6yLiZC8GX-jHh8LNjIlqm/view?usp=sharing) с демонстрацией работы сервиса  
[Презентация](https://drive.google.com/file/d/1n2vdFIU5MinFkCr7p7xzMz8QHG2bAB7-/view?usp=sharing) проекта, которую мы использовали на защите  

<sub>IDK, 2019</sub>
